---
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Main from "../components/Main.astro";
import WhatsappBtn from "../components/WhatsappBtn.astro";
import { SITE_TITLE } from "../consts";
import { getCollection } from "astro:content";

const menu = await getCollection("menu");
---

<!doctype html>
<html lang="es">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Nunito+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <BaseHead
      title={SITE_TITLE}
      description="Las mejores hamburguesas de la ciudad, hechas con ingredientes frescos y mucho sabor."
    />
    <style>
      .fade-in {
        animation: fadeIn 0.5s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .hidden {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <div class="min-h-screen bg-background">
      <Header />
      <WhatsappBtn />
      <Main />
      <Footer />

      <script>
        const buttons = document.querySelectorAll(".filter-btn");
        const items = document.querySelectorAll(".menu-item");

        const activeClasses = [
          "bg-amber-500",
          "text-black",
          "ring-2",
          "ring-amber-500",
          "ring-offset-2",
          "ring-offset-[#141210]",
          "active",
          "shadow-[0_0_15px_rgba(245,158,11,0.4)]",
        ];
        const inactiveClasses = [
          "bg-zinc-800",
          "text-zinc-400",
          "border-transparent",
        ];
        buttons.forEach((button) => {
          button.addEventListener("click", () => {
            // Remover clase activa de todos los botones
            buttons.forEach((btn) => {
              btn.classList.remove(...activeClasses);
              btn.classList.add(...inactiveClasses);
            });

            // Agregar clase activa al botÃ³n presionado
            button.classList.remove(...inactiveClasses);
            button.classList.add(...activeClasses);

            const filterValue = button.getAttribute("data-filter");

            items.forEach((item) => {
              if (
                filterValue === "all" ||
                item.getAttribute("data-category") === filterValue
              ) {
                item.classList.remove("hidden");
                item.classList.add("fade-in");
              } else {
                item.classList.add("hidden");
                item.classList.remove("fade-in");
              }
            });
          });
        });
      </script>
    </div>
  </body>
</html>
